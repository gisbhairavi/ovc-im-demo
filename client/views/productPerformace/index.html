<button class="col-md-12 text-left btn btn-default"  ng-click="back()" ng-if="stocklookup">
  <i class="fa fa-arrow-left" aria-hidden="true"></i>{{translation.buttontypes[0].backtostocklookup}}
</button>
<div class="ven_tblk clearfix">
	<div class="col-sm-12 heading">
		<h3>
			{{ovcLabel.performance.heading}}
			<span ng-if="!config.showskugroup && performancelist.length > 0">
				<ovcdata-export pdf-id="performancelist_export" heading="{{ovcLabel.performance.heading}}"></ovcdata-export>
			</span>
		</h3>
	</div>
<form  angular-validator-submit="searchproduct_perform()">
	<div class="col-sm-12 clearfix">
		<div class="panel-body search_box border_T0">
			<div class="col-sm-12 col-md-3">
				<label class="control-label">{{ovcLabel.performance.fromdate}}</label>
				<input calendar  ng-model='form.fromdate'  class="form-control hidcal"  ng-change='change_frdate()'  />
			</div>
			<div class="col-sm-12 col-md-3">
				<label class="control-label">{{ovcLabel.performance.todate}}</label>
				<input calendar  ng-model='form.todate'  class="form-control hidcal" ng-change='change_todate()' />
			</div>
			<!-- <div >
				
				<label class="control-label">{{translation.locations[0].store}}</label>	
				<div>
					<div  class= "col-md-3" multiselect-common="" items="storevalues" selected-items="selectedstores" naming="Store" ></div>
				</div>
			</div> -->
			<span class="col-sm-12 col-md-3"> <label class="control-label">{{ovcLabel.performance.location}}</label><br />
					<!-- <dropdown-multiselect pre-selected="selectedpackageStatus"
						model="asnSearchData.status" options="data.location_datas"></dropdown-multiselect> -->
				<div click-out="showLoc=false" class="dropdown col-sm-12" style="padding-left: 0px;" >
					<div style="position: relative;" class="tooltip-pro">
						<input type="text" class="form-control"
							ng-model="location.displayName" ng-focus="showLoc = true"
							placeholder="{{ovcLabel.performance.location}}"
							style="padding: 6px 18px 6px 10px;"
							ng-change="searchLocation(location.displayName);" tooltip-placement="bottom" uib-tooltip="{{location.title}}"/> <span
							class="fa"
							ng-class="{'fa-caret-up' : showLoc, 'fa-caret-down' : ! showLoc}"
							style="position: absolute; right: 7px; top: 10px;"  ></span>
					</div>
					<div tree-view="storeLocData" node-search="filterSearch()" check-box = "true"
						node-label="name" ng-show="showLoc"
						class="dropdown-menu treeViewDrop"
						style="display: block; width: 300px;" mode="listlocation"></div>
					<!-- <span
						ng-show="data.locationErrorMessage"
						 style="margin: 3px 0px 0px 0px"
						class="alert alert-danger">{{translation.messages[0].location}}</span> -->
				
				</div>
			</span>
			<div class="col-md-12 col-sm-12 col-xs-12">
				<div class="col-md-6 stk_sear padd_box" style="padding-left: 0;">
					<ovcautocomplete    class="search_scroll" attr-input-class="form-control prod_result" attr-input-id="looksearch"  id="skusearch" ng-model="form.skuresult" attr-placeholder="{{ovcLabel.performance.searchplaceholder}}..." click-activation="false" data="form.productsku" on-type="dosrchproduct" on-select="doSelectproduct" ng-model-options ="{ updateOn: 'default', debounce: {'default': 300} }"></ovcautocomplete>
				</div>
				<!-- <div class="col-md-3 stk_sear"  style="padding:0;" ng-if="config.showskugroup">
					<autocomplete    class="search_scroll" attr-input-class="prstyle_result" attr-input-id="lookstyle"  id="stylesearch" ng-model="form.styleresult" attr-placeholder="{{translation.messages[0].search_style}}" click-activation="false" data="form.productstyles" on-type="srchprstyle" on-select="Selectprstyle" ></autocomplete>
				</div> -->
				<div class="col-md-6 stk_sear">
					<a  id="ovcSearchBtn" class="btn btn-primary" ng-click="searchproduct_perform()"><i class="fa fa-search" style="margin-right:3px;"></i>{{ovcLabel.performance.buttons.search}}</a>
					<a id="ovcAdvancedBtn" class='btn' ng-click="basicproduct = !basicproduct">{{basicproduct?ovcLabel.performance.buttons.basic:ovcLabel.performance.buttons.advanced}}</a>
				</div>
			</div>
			<span  ng-show="ship.fieldsrequired && ship.showtable" class="alert alert-danger ng-binding datevalid" >{{ovcLabel.performance.dateError}}</span> 
			<div class="col-md-12 col-sm-12 col-xs-12 product_padd stk_sear" ng-if="basicproduct">
				<div ng-repeat = "(key,value) in  dropdownDashCall.productProperty">
					<div  class= "col-md-2" multiselect-common="" items="value.propertyValue" selected-items="value.selectedProperty" naming="{{value.propertyName}}" dynamic="value.propertyName" style="margin-bottom: 10px;" >
					</div>
				</div>
			</div>
		</div>
	</div>
</form>
	<div class="panel-default">			
		<div class="ven_tbody ">
			<div>
				<div class = "col-sm-12">

					<div class="pg_limit b_margin col-md-3">
							<ul>
								<li id="balance_pop" class="pull-right list_bx minipop_menu"><a ng-if = "action.showrefine" class="btn btn-primary  admin_det  refinelookup" ng-click="refineopen() " id="cancel_btn">{{ovcLabel.performance.buttons.refine}}</a>
							
									<ul  ng-click="refinechange() " class="dropdown-menu dropdown-messages hoveropup st_mar" style ="min-width : 205px !important;max-height: 250px;overflow-y: scroll;">
										<li class="user-header bg-light-blue"  ng-class="{active: collapseVar==12}" ng-if="config.showskugroup">
											<div class="stk_menu">
												<div class="menu_blk1 pull-left">
													<div class="balanceoh check_left">
														<div class="balradio"><label>
															<input id="slpbalance" type="checkbox"  value="slpbalance"  ng-click="selectAll(action.bal1checked,ship.style)" ng-model="action.bal1checked" ng-init="action.bal1checked=true"/><img class="mar_r" /></label>
														</div>
													</div>
												</div>
												<a href="" ng-click="check(12)" class="chck_f">{{ovcLabel.performance.styledetails}}<span class="fa arrow"></span></a>
											</div>
											<ul class="nav nav-second-level cal_blkli"  uib-collapse="collapseVar!=12">
												<li class="user-header bg-light-blue"  ng-repeat="item in ship.style" ng-if = "config_data[item.id] == true" >
													<div class="menu_blk1" >
														<div class="balanceoh check_left"><div class="balradio"><label>
														<input id="{{item.id}}" type="checkbox" ng-model="item.selected" value="{{item.id}}"  ng-click="toggleSelection(item)" ng-init="item.selected=true"/><img class="mar_r"/>{{ovcLabel.performance.label[item.Name]}}</label></div></div>
													</div>
												</li> 
											</ul>
	                <!-- /.nav-second-level -->
										</li>
										<li class="user-header bg-light-blue"  ng-class="{active: collapseVar==13}">
											<div class="stk_menu">
												<div class="menu_blk1 pull-left">
													<div class="balanceoh check_left">
														<div class="balradio">
															<label><input id="slpcalc" type="checkbox"  value="slpcalc"  ng-click="selectAll(action.bal2checked,ship.sku)" ng-model="action.bal2checked" ng-init="action.bal2checked=true"/><img class="mar_r"/></label>
														</div>
													</div>
												</div>
												<a href="" ng-click="check(13)" class="chck_f">{{ovcLabel.performance.skudetails}}<span class="fa arrow"></span></a>
											</div>
											<ul class="nav nav-second-level cal_blkli"  uib-collapse="collapseVar!=13">
												<li class="user-header bg-light-blue"  ng-repeat="item in ship.sku" ng-if = "config_data[item.id] == true" >
													<div class="menu_blk1" >
													<div class="balanceoh check_left"><div class="balradio"><label>
													<input id="{{item.id}}" type="checkbox" ng-model="item.selected" value="{{item.id}}"  ng-click="toggleSelection(item)" ng-init="item.selected=true"/><img class="mar_r"/>{{ovcLabel.performance.label[item.Name]}}</label></div></div>
												</div>
												</li> 
											</ul>
										</li> 
									<a class="btn btn-primary done_btn" ng-click="refineremove() ">{{ovcLabel.performance.buttons.done}}</a>
									<a class="btn btn-primary done_btn" ng-click="refinecancel()">{{ovcLabel.performance.buttons.cancel}}</a>
								</ul>
							</li>
						</ul>
					</div>
					<div>
						<table style ="width:100%" class=" table-bordered table_bornone" ng-repeat = "(key,list) in performancelist">	
							<thead>	
								<tr ng-repeat="style in performancelist[key]" class="stylegrp_block">
									<td class="style_td" style = "border: 1px solid #ddd;">
										<table class="table table-bordered style_head" ng-click = "stylehideshow()" ng-if="config.showskugroup">
											<thead>
												<tr>
													<th ng-repeat="item in ship.style" ng-if = "config_data[item.id] == true" class = "{{item.id}} {{item.parent1}}">{{ovcLabel.performance.label[item.Name]}}</th>
													<!-- <th width = 40px; >{{translation.productperformlabel.ACTION}}</th> -->
												</tr>
											</thead>
											<tbody class="style_body pro_perm_style">
												<tr>
													<td ng-repeat="item in ship.style" ng-if = "config_data[item.id] == true" class = "{{item.id}} {{item.parent1}}" style="height: 122px;" ><span ng-if="item.type=='image' && item.id !='pproperties' " ><img ng-src="{{style[item.Name]}}"/></span><span ng-if="item.type!='image' && item.id !='pproperties'">{{style[item.Name]}}</span>
													<div ng-if="item.type!='image' && item.id=='pproperties'" style="max-height: 100%;overflow-y: auto;"><p ng-repeat="(prokey,provalue) in style[item.Name] track by $index">{{prokey}} : {{provalue ? provalue : '-'}}</p>
													</div>
													</td>
													<!-- <td><center><button class="btn btn-link pull-right padding_0" ng-click=""><span class="fa fa-trash-o"></span></button></center></td> -->	
												</tr>
											</tbody>
										</table>

										<!-- SKUS -->
										<table class="table sku_table" ng-show = "style_details" id="performancelist_export">
											<thead>
												<tr>
													<th ng-repeat="item in ship.sku" ng-if = "config_data[item.id] == true" class = "{{item.id}} {{item.parent1}}" >{{ovcLabel.performance.label[item.Name]}}</th>
													<!-- <th width = 40px;>{{translation.productperformlabel.ACTION}}</th> -->
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat="(index,skuData) in style.skus">
													<td ng-repeat="item in ship.sku" ng-if = "config_data[item.id] == true" class = "{{item.id}} {{item.parent1}}" style="height: 122px;"><span ng-if = "item.type=='Date' && item.id !='pvariants'" >{{skuData[item.Name] | dateForm}}</span><span ng-if = "(item.type != 'Date') && (item.hover != 'totalreturned') && (item.hover != 'totalsold') && (item.hover != 'totalreceived') && item.id !='pvariants'">{{skuData[item.Name] ? skuData[item.Name] : '-'}}</span>

													<div ng-if="item.type!='Date' && !item.hover && item.id=='pvariants'" style="max-height: 100%;
													overflow-y: auto;"><p ng-repeat="(prokey,provalue) in skuData[item.Name] track by $index" style="margin-bottom: 0;">{{prokey}} : {{provalue ? provalue : '-'}}</p>
													</div>

													<!--Returned Data Hover-->
													<span ng-if = "item.hover == 'totalreturned' && item.id !='pvariants'" ng-mouseover="showtablehover(index,item.hover,skuData.returneddata)" ng-mouseleave="showtableout()">{{skuData[item.Name] ? skuData[item.Name] : '-'}}
													<div ng-if="(showlist == index+item.hover) && (storelength > 1)">
														<div class="animate-show callout" style = "padding: 10px;width: auto;">
															<b class="notch"></b>
															<div class="inside_t" style = "height: auto;max-height: 150px;overflow-y: auto">
																<table class="table table-striped table-bordered">
																	<tr ng-repeat="(key,value) in skuData.returneddata">
																		<td style = "padding:5px;">{{locationlist[key]}} </td>
																		<td style = "padding:5px 10px;">{{ value != ''? value : '-'}}</td>
																	</tr>
																
																</table>
															</div>
														</div>
													</div>
													</span>
													<!--Sold Data Hover-->
													<span ng-if = "item.hover == 'totalsold' && item.id !='pvariants'" ng-mouseover="showtablehover(index,item.hover,skuData.solddata)" ng-mouseleave="showtableout()" >{{skuData[item.Name] ? skuData[item.Name] : '-'}} 
													<div ng-if="(showlist == index+item.hover) && (storelength > 1)">
														<div class="animate-show callout" style = "padding: 10px;width: auto;">
															<b class="notch"></b>
															<div class="inside_t" style = "height: auto;max-height: 150px;overflow-y: auto">
																<table class="table table-striped table-bordered">
																	<tr ng-repeat="(key,value) in skuData.solddata">
																		<td style = "padding:5px;">{{locationlist[key]}} </td>
																		<td style = "padding:5px 10px;">{{ value != ''? value : '-'}}</td>
																	</tr>
																
																</table>
															</div>
														</div>
													</div>
													</span>
													<!--Received Data Hover-->
													<span ng-if = "item.hover == 'totalreceived' && item.id !='pvariants'" ng-mouseover="showtablehover(index,item.hover,skuData.receiveddata)" ng-mouseleave="showtableout()" >{{skuData[item.Name] ? skuData[item.Name] : '-'}}
													<div ng-if="(showlist == index+item.hover) && (storelength > 1)">
														<div class="animate-show callout" style = "padding: 10px;width: auto;">
															<b class="notch"></b>
															<div class="inside_t" style = "height: auto;max-height: 150px;overflow-y: auto">
																<table class="table table-striped table-bordered">
																	<tr ng-repeat="(key,value) in skuData.receiveddata">
																		<td style = "padding:5px;">{{locationlist[key]}} </td>
																		<td style = "padding:5px 10px;">{{ value != ''? value : '-'}}</td>
																	</tr>
																
																</table>
															</div>
														</div>
													</div>
													</span>

													</td>
													<!-- <td><center><button class="btn btn-link pull-right padding_0" ng-click=""><span class="fa fa-trash-o"></span></button></center></td> -->
												</tr>
												<td data-hidePdf="true" class="hideExport">
													<button  ng-show  = "action.loadsku" class="btn btn-primary  pull-right padding_0" ng-click="loadallsku(style)">{{ovcLabel.performance.buttons.loadallskus}}</button>
												</td>
											</tbody>
										</table>
									</td>
								</tr>
							</thead>
						</table>	
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<br clear="all" />
<style>body{overflow-y: hidden;}</style>