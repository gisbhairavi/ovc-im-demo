<div>
	<style>
		.table{
			margin-bottom: 10px;
		}
		.arrow_d {
			padding:0;
		}
		.table-striped > tbody > tr:nth-child(2n+1) > td, .table-striped > tbody > tr:nth-child(2n+1) > th{
			background-color: #f9f9f9;
		}
		.table-bordered > thead > tr > th, .table-bordered > thead > tr > td, .table-bordered > tbody > tr > th, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > th, .table-bordered > tfoot > tr > td {
		    border: 1px solid #ddd; 
		}
		.asn_wrapper{
			background:#fff;
		}
		.table.table-condensed th, td {
			 border-top: none !important;
			 border-bottom: none !important;
		}
		.table.table-condensed th {
			 font-weight: normal;
		}
		.asn_details {
			background-color: #cccccc;
		}
		.package_details {
			background-color: #e6e6e6;
			font-weight: bold;
			width:100%;
		}
		#wrapper tr {
			border: none !important;
		}
		.asn_details th p {
			font-weight: 600;
		}
		.table>thead>tr>th {
		    border: none;
		    vertical-align: middle;
		    padding: 10px 10px;
		    max-width: 110px;
		}
		.table-algin{
			width:97%;
		}
		.package_details th, .package_details td{
			padding: 10px !important;
			max-width: 120px !important;
		}
		.alert-success{
			background-color: #E5F9E5;
			color: #333 !important;
		}
		.alert-warning{
			background-color: #FFF8EB;
			color: #333 !important;
		}
		.alert-info{
			background-color: #d9edf7;
			color: #333 !important;
		}
		.alert-close{
			background-color: #E8EFD0 !important;
			color: #333 !important;
		}
		.alert-shipin{
			background-color: #FFDBFF;
			color: #333 !important;
		}
		.head{
			cursor:pointer;
		}
		.alert-intransit{
			background: #4b8bf5;
			color: #020202;

		}
		.alert-received{
			background: #1da362;
			color: #020202;
		}
		.alert-receivedinprogress{
			background: #ffb532;
			color: #020202;
		}
		.alert-closed{
			background: #dc493c;
			color: #020202;
		}
		.alert-partiallyreceived{
			background:#0476af;
			color: #020202;
		}
	</style>

	<div class="col-sm-12 asn_wrapper">
		<div class = "col-md-4 pull-right" ng-show = "asn_obj.mode != 'edit' && page_action.filteredItems">
			<label > {{ovcLabel.asnPackage.search}}:</label>
      	  	<input id="search" class="form-control deli_size" type="text" placeholder="{{ovcLabel.asnPackage.placeholdersearch}}" ng-model="search"   name="search" />
      	  	<br /><br clear="all" />
      	</div>
      	<div class = "col-md-4 pull-right" ng-show = "asn_obj.mode == 'edit'">
			<label > {{ovcLabel.asnPackage.search}}:</label>
      	  	<input id="searchDetais" class="form-control deli_size" type="text" placeholder="{{ovcLabel.asnPackage.placeholdersearch}}" ng-model="searchDetais"   name="searchDetais" />
      	  	<br /><br clear="all" />
      	</div>
      	<span id="ovcError" ng-if = "(asn_records  &&  asn_details.length == 0) || asn_details.error == 0">
        	<h4>{{ovcLabel.asnPackage.error.noRecords}}</h4>
        </span>
    	<div>
		    <br clear="all" />
			<div ng-hide= "pack_reverse">
				<div class="col-md-12 trans_det asn_pack_group"  ng-repeat="asn_item in asn_details['asns'] | array | filter : search" ng-if="(((asn_obj.mode == 'edit' || asn_obj.mode == 'asn') || asn_obj.mode === 'order'  || asn_obj.mode === 'transfer'))">
					<span ng-if = "asn_item.packstatus && showreverse && userRolePermissions.orderPermissions.modifyInTransit && userRolePermissions.orderPermissions.vreverseReceipt"><a  class="arrow_d pull-right" title="{{ovcLabel.asnPackage.reverseReceipt}}" ng-click="reverse_package(asn_item)"><i class="fa fa-reply"></i></a></span>
					<div ng-if = "asn_item.asnStatus !== 'shipInProgress' " class = "table-responsive col-sm-12" style = "padding:0;">
						<div class="col-sm-12 trans_det" ng-class="{'head-width': !asn_item.packages}">
							<table class="table  table-bordered master_table">
								<thead class = "asn_details head"  ng-click="asndetail.showDetails = ! asndetail.showDetails"  ng-class="{'alert-warning' : (!asn_item.packages), 'alert-success' : ( (!asn_item.packages && asn_item.asnStatus === 'received') || (!asn_item.packages && asn_item.asnStatus === 'receivedInFull')),'alert-info' : (!asn_item.packages && asn_item.asnStatus == 'receiveInProgress'),'alert-close': (asn_item.asnStatus == 'closed')}">
									<tr>
										<th><p><span class="export_label">{{ovcLabel.asnPackage.asn}}</span>: </p><b class="export_value">{{asn_item.asnId}}</b></th>
										<th ng-if="(asn_obj.mode === 'asn' || asn_obj.mode === 'edit')">
											<p><span class="export_label">{{ovcLabel.asnPackage.po}}</span> :</p> <b class="export_value">{{asn_item.poId}}</b>
										</th>
										
										<th ng-if="(asn_obj.mode === 'asn' || asn_obj.mode === 'edit' || asn_obj.mode === 'order') && userRolePermissions.permissions.viewPurchasePrice">
											<p><span class="export_label">{{ovcLabel.asnPackage.asnValue}}</span> : </p><b class="export_value">{{ovcLabel.global.currency[currencylist[asn_item.shipToLocation]]}} {{asn_item.asnCost | number:2}} </b>
										</th>
										<th ng-if = "(asn_obj.mode === 'asn' || asn_obj.mode === 'edit' || asn_obj.mode === 'order')">
											<p ><span class="export_label">{{ovcLabel.asnPackage.orderType}}</span> :</p> <b class="export_value">{{ovcLabel.global.orderType[asn_item.purchaseOrderType]}}</b> 
										</th>
										<th><p ><span class="export_label">{{ovcLabel.asnPackage.store}} </span> :</p> <b class="export_value">{{all_locations && all_locations[asn_item.shipToLocation] ? all_locations[asn_item.shipToLocation] : asn_item.shipToLocation}}</b> </th>
										<th><p><span class="export_label">{{ovcLabel.asnPackage.packageQty}}</span> :</p><b class="export_value">{{asn_item.numberOfPackages}}</b></th>
										<th><p><span class="export_label">{{ovcLabel.asnPackage.totalAsnQuantity}}</span> :</p><b class="export_value">{{asn_item.asnQty}}</b> </th>
										
										<!-- <th><p class="hide_pdf"><span ng-class="{'alert-intransit':asn_item.status =='intransit','alert-received': asn_item.status == 'receivedfull', 'alert-receivedinprogress': asn_item.status == 'receivinginprogress','alert-partiallyreceived': asn_item.status == 'partiallyreceived', 'alert-closed': asn_item.status == 'closed'}">{{translation.asndiscrepancies[asn_item.status]}}&nbsp;&nbsp;</span><i class="fa fa-exclamation-triangle exclamicon" ng-if="asn_details.status == 'partiallyreceived'" title="Quantity Discrepancy"></i></p>
										</th> -->
										<th><p class="hide_pdf"><h4><span class="label" ng-class="{'alert-intransit':asn_item.asnStatus =='shipped','alert-received': asn_item.asnStatus == 'receivedInFull', 'alert-receivedinprogress': asn_item.asnStatus == 'receiveInProgress','alert-partiallyreceived': asn_item.asnStatus == 'partiallyReceived' || asn_item.asnStatus == 'shipInProgress', 'alert-closed': asn_item.asnStatus == 'closed'}">{{ovcLabel.asnPackage.asnStatus[asn_item.asnStatus]}}&nbsp;&nbsp;</span></h4><i class="fa fa-exclamation-triangle exclamicon" ng-if="asn_details.asnStatus == 'partiallyReceived'" title="Quantity Discrepancy"></i></p>
										</th>
										<!-- <th><p class="hide_pdf"><span ng-class="{ 'alert-receivedinprogress': asn_item.status == 'receiveinprogress'}">{{translation.asndiscrepancies[asn_item.status]}}&nbsp;&nbsp;</span><i class="fa fa-exclamation-triangle exclamicon" ng-if="asn_details.status == 'partiallyreceived'" title="Quantity Discrepancy"></i></p>
										</th> -->
									</tr>
									
								</thead>
								<tbody ng-class="{'uncheckedASN' : ! asn_item.selectedASN, 'checkedASN' : asn_item.selectedASN}" ng-show="asndetail.showDetails && (asn_item.numberOfPackages > 0)" ng-init ="asndetail.showDetails = (asn_obj.mode == 'edit')?true:flase" ng-include="'/modules/directives/asn/asn_package.html'">
								</tbody>
								<tbody ng-class="{'uncheckedASN' : ! asn_item.selectedASN, 'checkedASN' : asn_item.selectedASN}" ng-show="asndetail.showDetails && !asn_item.packages" ng-init ="asndetail.showDetails = (asn_obj.mode == 'edit')?true:flase" ng-include="'/modules/directives/asn/asn_no_package.html'">
								</tbody>
								
							</table>
						</div>
						<div>
						<span class="hide_pdf" ng-if ="(!asn_item.packages) && (asn_item.asnStatus == 'shipped' || asn_item.asnStatus == 'shippedReversed')" >
								<a  ng-if="(asn_obj.mode !== 'edit' && ! is_blind_receive && userRolePermissions.orderPermissions.modifyInTransit)" class="arrow_d pull-right" ui-sref="ovc.asn-detailview({asnid:asn_item.asnId,orderid : asn_item.poId,backTo:asn_obj.backTo})" title="{{ovcLabel.asnPackage.beginReceiving}}">
								<i class="fa fa-download"></i>
								</a>

								<a  class="arrow_d pull-right" ng-click="asn_item.checkBox = ! asn_item.checkBox;"  ng-if="(is_blind_receive)">
								<i class="fa" ng-class="{'fa-square-o' : ! asn_item.checkBox, 'fa-check-square' : asn_item.checkBox}"></i>
								</a>
						</span>
						<span ng-if ="(!asn_item.packages) && (asn_item.asnStatus == 'receivedInFull') && userRolePermissions.orderPermissions.modifyInTransit && userRolePermissions.orderPermissions.vreverseReceipt" class="hide_pdf"><a  class="arrow_d pull-right" title="{{ovcLabel.asnPackage.reverseReceipt}}" ng-click="reverse_package({asn:asn_item,packageid : package})"><i class="fa fa-reply"></i></a>
						</span>
						</div>
					</div>
				</div>
				<div class="col-md-12" ng-if="page_action.filteredItems > 0">    
					<div class="panel-body fliter_i">

						<uib-pagination total-items="page_action.filteredItems"  items-per-page ="page_action.entryLimit"  ng-model="page_action.currentPage"  max-size = "5"  boundary-links="true" ng-change="pageChanged();" ></uib-pagination>
						
						<div class="col-md-3 pglimit">
							<div class="pg_limit page_size_drdn">
								<label>{{ovcLabel.poOrder.list.pagesize}}:</label>
								<select  convert-to-number	ng-model="page_action.entryLimit" class="pgsizes" ng-change="asnSearch()">
									<option>10</option>
									<option>20</option>
									<option>50</option>
									<option>100</option>
								</select>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--For Reverse the Package -->
		<div ng-show="pack_reverse">
			<reverse-receipt></reverse-receipt>
		</div>
		
		<span  ng-if="asn_obj.mode != 'edit' && is_blind_receive && asn_details.receivebtn">
			<button  ng-show="ship.typeshipment != 'Outbound'"  type="submit" class="btn btn-primary pull-right" ng-click="receivePackages('received');" >{{ovcLabel.asnPackage.buttons.receive}}</button>
		</span>

		<div class="col-sm-12 padd_btn" ng-if="(asn_obj.mode === 'edit')">
			<button type="submit" class="btn btn-primary pull-right" ng-click="receivePackages('received');" >{{ovcLabel.asnPackage.buttons.receive}}</button>
			<button type="submit" class="btn btn-primary pull-right" ng-click="receivePackages('receiveInProgress');" style = "margin:0 10px;" >{{ovcLabel.asnPackage.buttons.save}}</button>
			<span class="file-input btn btn-primary btn-file pull-right" style = "margin:0 0 0 10px;">{{ovcLabel.asnPackage.buttons.importFile}}
		    	<input type="file" on-read-file="showContent($fileContent,myFile)" file-model="myFile" />
		    	
		    </span>
			<button type="submit" class="btn btn-primary pull-right" ng-click="backBtn();">{{ovcLabel.asnPackage.buttons.back}}</button>
		</div>
		</div>
	</div>
</div>

